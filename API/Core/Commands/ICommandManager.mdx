---
title: ICommandManager 接口
description: CounterStrikeSharp 命令系统的管理接口，用于注册和移除服务器命令
icon: Terminal
---

# ICommandManager 接口

`ICommandManager` 接口定义了命令管理器的基本功能，用于管理服务器命令的注册和移除。

## 命名空间

```csharp
namespace CounterStrikeSharp.API.Core.Commands
```

## 接口定义

```csharp
public interface ICommandManager
```

## 方法

### RegisterCommand

注册一个新的服务器命令。

```csharp
void RegisterCommand(CommandDefinition definition)
```

#### 参数

- `definition`: `CommandDefinition` - 要注册的命令定义

### RemoveCommand

移除一个已注册的服务器命令。

```csharp
void RemoveCommand(CommandDefinition definition)
```

#### 参数

- `definition`: `CommandDefinition` - 要移除的命令定义

## 使用示例

```csharp
public class MyPlugin : BasePlugin
{
    public override void Load(bool hotReload)
    {
        // 创建命令定义
        var command = new CommandDefinition
        {
            Name = "hello",
            Description = "向玩家打招呼",
            Callback = (player, info) =>
            {
                if (player != null)
                {
                    player.PrintToChat("你好！");
                }
                return HookResult.Continue;
            },
            ExecutableBy = CommandUsage.CLIENT_ONLY,
            UsageHint = "!hello"
        };

        // 注册命令
        CommandManager.RegisterCommand(command);

        // 在需要时移除命令
        if (someCondition)
        {
            CommandManager.RemoveCommand(command);
        }
    }
}
```

## 说明

- `ICommandManager` 是命令系统的核心接口
- 通过 `BasePlugin` 类的 `CommandManager` 属性访问
- 支持动态注册和移除命令
- 命令注册后立即生效
- 移除命令后，相应的命令将不再可用
- 命令定义必须包含必要的信息（名称、描述和回调）
- 建议在插件卸载时移除注册的命令
 